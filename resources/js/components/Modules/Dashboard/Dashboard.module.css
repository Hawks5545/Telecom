/* Dashboard.module.css */

/* --- LAYOUT PRINCIPAL: ESTRUCTURA FLEXIBLE --- */
.dashboardGrid {
  /* Ocupa toda la altura de la pantalla menos el header (aprox 60px) */
  height: calc(100vh - 60px); 
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Elimina el scroll de la página principal */
  padding-bottom: 10px;
}

/* --- SECCIONES (La magia del tamaño) --- */

/* 1. SECCIÓN SUPERIOR (KPIs): Tamaño automático */
.sectionTop {
  flex: 0 0 auto; /* No crece ni se encoge, ocupa lo que mide el contenido */
  margin-bottom: 10px;
}

/* 2. SECCIÓN GRÁFICOS: ELÁSTICA (OCUPA TODO EL ESPACIO LIBRE) */
.sectionCharts {
  flex: 1; /* ESTO ES LA CLAVE: Empuja la tabla hacia abajo y ocupa todo el hueco disponible */
  min-height: 0; /* Necesario para que el gráfico se adapte bien */
  margin-bottom: 10px;
  display: flex; /* Para que las columnas internas también usen el 100% */
}

/* 3. SECCIÓN TABLA: TAMAÑO FIJO Y COMPACTO */
.sectionTable {
  /* Le damos una altura fija pequeña para asegurar que NO aplaste a los gráficos */
  flex: 0 0 230px; 
  display: flex;
  flex-direction: column;
  margin-bottom: 0 !important;
}

/* --- ANIMACIONES --- */
.fadeIn {
  animation: fadeIn 0.8s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- ESTILOS GENERALES --- */
.pageTitle {
  color: #005461;
  font-weight: 700;
  letter-spacing: -0.5px;
  border-bottom: 2px solid #e0e0e0;
  padding-bottom: 5px;
  margin-bottom: 10px;
  font-size: 1.5rem;
}

/* --- TARJETAS (CARDS) --- */
.cardEffect {
  border: none;
  border-radius: 12px;
  background: #ffffff;
  box-shadow: 0 4px 10px rgba(0, 84, 97, 0.08);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  overflow: hidden;
  position: relative;
  height: 100%; /* La tarjeta ocupa el 100% de su contenedor padre */
  display: flex;
  flex-direction: column;
}

.cardEffect:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0, 84, 97, 0.15);
}

.cardHeaderCustom {
  background-color: #ffffff;
  border-bottom: 1px solid #f0f0f0;
  font-weight: 600;
  color: #495057;
  border-radius: 12px 12px 0 0 !important;
  padding: 0.8rem 1rem;
  flex: 0 0 auto; /* El header no se estira */
}

/* Cuerpo de la tarjeta flexible para centrar gráficos */
.cardBodyFlex {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  padding: 10px;
}

/* Icono de fondo KPI */
.iconBackground {
  font-size: 3.5rem;
  position: absolute;
  top: 5px;
  right: 5px;
  opacity: 0.1;
  transform: rotate(15deg);
  pointer-events: none;
  transition: all 0.3s ease;
}

.cardEffect:hover .iconBackground {
  transform: rotate(0deg) scale(1.1);
  opacity: 0.2;
}

/* --- CONTENEDORES DE GRÁFICOS --- */

/* NUEVO: Wrapper para el scroll interno de las barras */
.chartScrollWrapper {
  flex: 1; /* Ocupa todo el espacio disponible en la tarjeta */
  width: 100%;
  overflow-y: auto; /* AQUÍ ESTÁ EL TRUCO: Scroll vertical si el contenido crece */
  overflow-x: hidden;
  position: relative;
  scrollbar-width: thin; /* Para Firefox */
}

/* Estilo del scrollbar del gráfico (Webkit: Chrome, Edge, Safari) */
.chartScrollWrapper::-webkit-scrollbar {
  width: 6px;
}
.chartScrollWrapper::-webkit-scrollbar-thumb {
  background-color: #ccc;
  border-radius: 4px;
}

/* Contenedor Dona (Centrado, sin scroll) */
.doughnutContainer {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
}

/* --- TABLA CON SCROLL INTERNO --- */
.tableScrollContainer {
  flex: 1; /* Ocupa el resto de la tarjeta de tabla */
  overflow-y: auto; /* SCROLL AQUÍ */
  overflow-x: hidden;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
}

/* Scrollbar personalizado fino (Tabla) */
.tableScrollContainer::-webkit-scrollbar { width: 6px; }
.tableScrollContainer::-webkit-scrollbar-track { background: #f1f1f1; }
.tableScrollContainer::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 4px; }
.tableScrollContainer::-webkit-scrollbar-thumb:hover { background-color: #005461; }

.tableHover tbody tr { transition: background-color 0.2s; }
.tableHover tbody tr:hover { background-color: #f8fcfd; }

.userText { color: #005461; font-weight: 600; }

/* --- BADGES (Etiquetas organizadas) --- */
.badgeSoftSuccess { 
  background-color: #d1e7dd; 
  color: #0f5132; 
  padding: 4px 8px; 
  border-radius: 6px; 
  font-size: 0.75rem; 
  font-weight: 600; 
  display: inline-block; 
}

.badgeSoftPrimary { 
  background-color: #cfe2ff; 
  color: #084298; 
  padding: 4px 8px; 
  border-radius: 6px; 
  font-size: 0.75rem; 
  font-weight: 600; 
  display: inline-block; 
}

.badgeSoftInfo { 
  background-color: #cff4fc; 
  color: #055160; 
  padding: 4px 8px; 
  border-radius: 6px; 
  font-size: 0.75rem; 
  font-weight: 600; 
  display: inline-block; 
}

/* --- BOTONES FILTRO (Organizados) --- */
.filterGroup { 
  display: inline-flex; 
  border: 1px solid #005461; 
  border-radius: 6px; 
  overflow: hidden; 
}

.filterBtn { 
  background: #fff; 
  color: #005461; 
  border: none; 
  border-right: 1px solid #005461; 
  padding: 4px 12px; 
  font-size: 0.8rem; 
  font-weight: 500; 
  cursor: pointer; 
  transition: 0.2s; 
}

.filterBtn:last-child { 
  border: none; 
}

.filterBtn:hover { 
  background-color: #e6f6f7; 
}

.filterBtnActive { 
  background-color: #005461 !important; 
  color: #fff !important; 
  font-weight: 600; 
  box-shadow: inset 0 3px 5px rgba(0,0,0,0.1); 
}